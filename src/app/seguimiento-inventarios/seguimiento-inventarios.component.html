<div class="container mt-5">
    <div class="registro-movimientos-form card">
        <div class="card-header">
            <h5>Registrar Movimiento de Inventario</h5>
        </div>
        <div class="card-body">
            <!-- Formulario para registrar nuevos movimientos de inventario -->
            <form (ngSubmit)="registrarMovimiento()" #movimientoForm="ngForm">
                <div class="form-group">
                    <label for="fecha">Fecha:</label>
                    <input type="date" id="fecha" name="fecha" class="form-control" [(ngModel)]="nuevoMovimiento.fecha" required>
                </div>
                <div class="form-group">
                    <label for="descripcion">Descripción:</label>
                    <input type="text" id="descripcion" name="descripcion" class="form-control" [(ngModel)]="nuevoMovimiento.descripcion" required>
                </div>
                <div class="form-group">
                    <label for="tipo">Tipo de Movimiento:</label>
                    <select id="tipo" name="tipo" class="form-control" [(ngModel)]="nuevoMovimiento.tipo" required>
                        <option value="Entrada">Entrada</option>
                        <option value="Salida">Salida</option>
                        <option value="Transferencia">Transferencia</option>
                        <!-- Agregar más opciones según sea necesario -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="cantidad">Cantidad:</label>
                    <input type="number" id="cantidad" name="cantidad" class="form-control" [(ngModel)]="nuevoMovimiento.cantidad" required>
                </div>
                <button type="submit" class="btn btn-primary" [disabled]="!movimientoForm.valid">Registrar Movimiento</button>
            </form>
            <div class="mt-3">
                <button class="btn btn-secondary" (click)="obtenerHistorialMovimientos()">Generar Reporte</button>
                <button class="btn btn-danger" (click)="exportarReporte('pdf')">Exportar PDF</button>
                <button class="btn btn-success" (click)="exportarReporte('xlsx')">Exportar Excel</button>
            </div>
        </div>
    </div>

    <div class="historial-movimientos mt-5">
        <h5>Historial de Movimientos</h5>
        <table class="table table-striped">
            <thead class="thead-dark">
                <tr>
                    <th>Fecha</th>
                    <th>Descripción</th>
                    <th>Tipo de Movimiento</th>
                    <th>Cantidad</th>
                    <!-- Se pueden agregar más columnas según sea necesario -->
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let movimiento of historialMovimientos">
                    <td>{{ movimiento.fecha }}</td>
                    <td>{{ movimiento.descripcion }}</td>
                    <td>{{ movimiento.tipo }}</td>
                    <td>{{ movimiento.cantidad }}</td>
                    <!-- Se pueden mostrar más detalles del movimiento si es necesario -->
                </tr>
            </tbody>
        </table>
    </div>
</div>
